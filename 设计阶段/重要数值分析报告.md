# 基于python的英语发音例句库接口：重要数值分析报告

**Python课程设计小组：张一鸣，张晓艺，潘昊**

**组长：张一鸣**

## 文档修改记录



| 版本号 | 版本描述     | 责任人 | 日期      | 备注 |
| ------ | ------------ | ------ | --------- | ---- |
| V1.0   | 初始编制     | 张一鸣 | 2020-6-13  |      |

## 1.数据库承载量

针对会议上的多种分担单词表与例句表压力的提案，包括但不限于

 - 拆分单词表，以首字母作为表名，只包含指定首字母的单词
 - 拆分单词表，以规定ID作为表名，只包含固定数量的单词
 - 拆分例句表，以电影名作为表名，只包含指定电影的例句
 - 以单词作为表名，将例句存于该表
 
 
 **经过分析，否决以上提案。解释如下：**
 
 1. 经查询，阿里云经过多次实验，得出经验：**为保证查询效率，mysql单表数据不应大于500万行。**
 1. 经过询问相关专业人士，得出结论：**单个电影剧本台词量一般不大于2000句。**
 1. 经过对现有的50个电影字幕文件进行分析，得出结论：**现有字幕文件中，平均每个字幕文件包含字幕1337.36条，单个文件最多字幕数量为2364条。**
 
 考虑到如果一句话很长，字幕组往往把它切割成多条字幕，综合以上数据，可推算出**单部电影最多台词可视为在2000句以内**的结论。
 同时综合**1.**的数据，可得到单个表大致存储电影数量可达**2500部**。由于本软件同时会切割出音频文件，如果电影数量较多则会对存储音频文件的服务器造成压力，
 且就目前情况来看，较少电影数量就可覆盖较多单词。综合以上情况，我们认为系统导入的电影一般不会超过2500部。**即无需为性能问题考虑而重设计表。**
 
 ## 2. 例句难度分级标准
 
 按照常理，例句难度应该是按照语法难度进行分级，但是目前使用计算机进行语法分析难度较大。根据语法难度往往表现于句子长度这个特征，我们决定使用句子长度对例句难度进行分析。
 先前设定将句子难度分为3级，本次讨论的目标就在于确定这三级的两个分级点。
 
 为防止分级不标准的情况，我们使用`Jenks Natural Breaks聚类算法`对目前的50个字幕文件进行分析，得到了两个分隔点：**45个字符与94个字符**（在计算前已经对句子进行合并）。
 `Jenks Natural Breaks聚类算法`的主要原理利用是寻找数据中方差最大点来进行分类，特别适合在一维数据中寻找拥有自然分隔特征的数据。
 
 以下是按此分隔的句子分布（最短句11个字符，最长句296个字符）：
 
 | 分段（x为句子字符数量） | 50部电影中的句子数量 |
 | ------------------- | ----------------- |
 | 11<x≤45 | 27199 |
 | 45<x≤94 | 15925 |
 | 94<x≤296 | 3408 |
 
 
 ---

参考资料：

1. 《MySQL单表最大记录数不能超过多少？》来源

   https://mp.apipost.cn/a/34e44b63c6a65371

2. 《一部电影的台词字数大概有多少？》来源

   https://www.zhihu.com/question/19977242/answer/13547131
   
3. 《Jenks natural breaks optimization》来源

   https://en.wikipedia.org/wiki/Jenks_natural_breaks_optimization